<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1823px" preserveAspectRatio="none" style="width:1198px;height:1823px;background:#FFFFFF;" version="1.1" viewBox="0 0 1198 1823" width="1198px" zoomAndPan="magnify"><defs/><g><!--MD5=[5cc1b2c863c3943e519dce3dbb73311b]
entity param--><g id="elem_param"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="297.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="307.5" y="24.5332">Get config and parameters</text></g><!--MD5=[30f8ec3659cf73e3d4f868f99be65a6a]
entity mirror--><g id="elem_mirror"><path d="M176.3701,100.1841 C179.2587,95.3701 184.1351,94.0738 187.4863,99.6912 C189.977,94.0155 194.0225,92.9083 198.4933,97.5861 C201.8545,92.6588 205.9685,91.4283 209.6537,97.2497 C213.5366,91.3826 217.6388,90.7889 221.6848,97.0884 C224.4278,92.6388 227.9397,92.1683 231.2318,96.4906 C234.418,90.2864 238.3549,90.433 242.754,95.219 C246.0533,90.3378 251.105,90.4747 253.5215,96.1218 C258.3856,90.1949 262.7239,90.6822 265.9855,97.6685 C269.2321,93.3271 273.5672,92.2143 276.6874,97.8046 C280.2013,94.1883 284.2719,94.0183 286.2728,99.4139 C288.838,93.3718 294.2265,93.1717 297.2551,98.9846 C300.8932,94.9113 306.2324,96.125 308.0677,101.1313 C318.4818,100.7601 322.6003,107.7308 318.7576,116.9774 C323.2991,126.0326 318.4581,130.3057 309.8916,131.1757 C306.1116,136.6804 302.507,136.18 298.5209,131.4038 C295.3126,136.9775 291.7547,137.093 287.2907,132.8386 C282.9532,137.3024 278.9214,138.277 275.7228,131.6506 C273.6409,136.4406 268.6519,137.0986 265.2613,133.2321 C262.1413,137.3813 257.0015,137.9292 254.802,132.2524 C252.3211,138.3082 246.9288,138.0323 243.4638,133.2853 C240.0616,139.2754 235.2432,137.9386 231.9639,133.1541 C227.9728,138.3466 223.6363,137.8812 221.3507,131.5793 C217.8939,136.6049 213.3759,138.0964 209.5365,131.9851 C206.645,137.2232 202.0959,136.1607 199.4935,131.6862 C196.4882,137.071 192.5984,136.9427 188.8425,132.4997 C185.5482,137.8542 180.6226,138.1431 177.619,132.2107 C168.9932,129.0427 166.3647,122.7665 173.1086,115.46 C166.9082,108.5643 167.0801,103.7725 176.3701,100.1841 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="183" y="120.5332">OSM extract mirror</text></g><!--MD5=[f9c3c8a24e0726bab05d95569783e11e]
entity X.osm.pbf--><g id="elem_X.osm.pbf"><path d="M468,98.5 L468,131.1094 A2.5,2.5 0 0 0 470.5,133.6094 L547.5,133.6094 A2.5,2.5 0 0 0 550,131.1094 L550,106 L540,96 L470.5,96 A2.5,2.5 0 0 0 468,98.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M540,96 L540,103.5 A2.5,2.5 0 0 0 542.5,106 L550,106 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="478" y="120.5332">X.osm.pbf</text></g><!--MD5=[143a04d91ab79baecfe840ad339040fe]
entity Download--><g id="elem_Download"><rect fill="#FFFFE0" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="351" y="103"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="361" y="120.5332">Download</text></g><g id="elem_xsize"><path d="M669,205 L669,231.3516 A0,0 0 0 0 669,231.3516 L807,231.3516 A0,0 0 0 0 807,231.3516 L807,215 L797,205 L714.7,205 L549.94,134.06 L706.7,205 L669,205 A0,0 0 0 0 669,205 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M797,205 L797,215 L807,215 L797,205 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="675" y="223.4951">Size: 50MB ~ 70GB</text></g><!--MD5=[ce7f13b9eb8d28de9adf55ff09c43579]
entity filter1--><g id="elem_filter1"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="326.5" y="206"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="336.5" y="223.5332">osmium tags-filter</text></g><!--MD5=[2138b6dbb06b155506e384947d97876f]
entity file1--><g id="elem_file1"><path d="M492.5,201.5 L492.5,234.1094 A2.5,2.5 0 0 0 495,236.6094 L631,236.6094 A2.5,2.5 0 0 0 633.5,234.1094 L633.5,209 L623.5,199 L495,199 A2.5,2.5 0 0 0 492.5,201.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M623.5,199 L623.5,206.5 A2.5,2.5 0 0 0 626,209 L633.5,209 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="502.5" y="223.5332">with_name.osm.pbf</text></g><!--MD5=[dfb261041703ba52f910194e98ec44af]
entity filter2--><g id="elem_filter2"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="411.5" y="304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="421.5" y="321.5332">osmium tags-filter</text></g><!--MD5=[f0995f22e4683d439f802f70f6fc16d3]
entity file2--><g id="elem_file2"><path d="M578,299.5 L578,332.1094 A2.5,2.5 0 0 0 580.5,334.6094 L773.5,334.6094 A2.5,2.5 0 0 0 776,332.1094 L776,307 L766,297 L580.5,297 A2.5,2.5 0 0 0 578,299.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M766,297 L766,304.5 A2.5,2.5 0 0 0 768.5,307 L776,307 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="588" y="321.5332">possible_etymology.osm.pbf</text></g><!--MD5=[9589780fcad2ab644c44b49a115c2530]
entity filter3--><g id="elem_filter3"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="611.5" y="402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="621.5" y="419.5332">osmium tags-filter</text></g><!--MD5=[bd31fc327df3f0d81ad8010b3a049ac0]
entity file3--><g id="elem_file3"><path d="M777.5,397.5 L777.5,430.1094 A2.5,2.5 0 0 0 780,432.6094 L892,432.6094 A2.5,2.5 0 0 0 894.5,430.1094 L894.5,405 L884.5,395 L780,395 A2.5,2.5 0 0 0 777.5,397.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M884.5,395 L884.5,402.5 A2.5,2.5 0 0 0 887,405 L894.5,405 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="787.5" y="419.5332">filtered.osm.pbf</text></g><g id="elem_3size"><path d="M811,303 L811,329.3516 A0,0 0 0 0 811,329.3516 L864.31,329.3516 L843.05,394.71 L872.31,329.3516 L935,329.3516 A0,0 0 0 0 935,329.3516 L935,313 L925,303 L811,303 A0,0 0 0 0 811,303 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M925,303 L925,313 L935,313 L925,303 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="817" y="321.4951">Size: 4MB ~ 6GB</text></g><!--MD5=[80dabf241d271177efc0216b16049b74]
entity export--><g id="elem_export"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="780.5" y="500"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="790.5" y="517.5332">osmium export</text></g><!--MD5=[6bc999456665b14f89663a4fc10672a6]
entity tsv--><g id="elem_tsv"><path d="M938,495.5 L938,528.1094 A2.5,2.5 0 0 0 940.5,530.6094 L1037.5,530.6094 A2.5,2.5 0 0 0 1040,528.1094 L1040,503 L1030,493 L940.5,493 A2.5,2.5 0 0 0 938,495.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1030,493 L1030,500.5 A2.5,2.5 0 0 0 1032.5,503 L1040,503 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="948" y="517.5332">X.osm.pbf.pg</text></g><g id="elem_tsvsize"><path d="M930,401 L930,427.3516 A0,0 0 0 0 930,427.3516 L993.73,427.3516 L990.91,492.71 L1001.73,427.3516 L1068,427.3516 A0,0 0 0 0 1068,427.3516 L1068,411 L1058,401 L930,401 A0,0 0 0 0 930,401 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1058,401 L1058,411 L1068,411 L1058,401 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="936" y="419.4951">Size: 40MB ~ 22GB</text></g><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><g id="elem_db"><path d="M393.5,601 C393.5,591 432,591 432,591 C432,591 470.5,591 470.5,601 L470.5,627.6094 C470.5,637.6094 432,637.6094 432,637.6094 C432,637.6094 393.5,637.6094 393.5,627.6094 L393.5,601 " fill="#ADD8E6" style="stroke:#181818;stroke-width:0.5;"/><path d="M393.5,601 C393.5,611 432,611 432,611 C432,611 470.5,611 470.5,601 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="403.5" y="629.5332">Local DB</text></g><!--MD5=[6b09217310f8cc73862653e6f7eba8ab]
entity setup--><g id="elem_setup"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="769.5" y="602.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="779.5" y="620.0332">Setup DB schema</text></g><!--MD5=[45617b0e7e6b49ef8db486c1689ddb53]
entity copy--><g id="elem_copy"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184" x="897" y="698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="907" y="715.5332">pgSQL COPY FROM CSV</text></g><!--MD5=[ee74b2f9039a71267b2f12db137aa682]
entity toobig--><g id="elem_toobig"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180" x="659" y="782"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="669" y="799.5332">Remove elements too big</text></g><!--MD5=[de70fbadc8dfbc3273b64a0856b8aab2]
entity wdcod--><g id="elem_wdcod"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="639" y="866"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="649" y="883.5332">Convert element wikidata codes</text></g><!--MD5=[3be43dedc70c6653b81896a4e97f8bba]
entity wdent--><g id="elem_wdent"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234" x="638" y="957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="648" y="974.5332">Load and convert wikidata entities</text></g><!--MD5=[5b5b6116e9ca12b5be308e1a61d0aa39]
entity csv--><g id="elem_csv"><path d="M485,952.5 L485,985.1094 A2.5,2.5 0 0 0 487.5,987.6094 L600.5,987.6094 A2.5,2.5 0 0 0 603,985.1094 L603,960 L593,950 L487.5,950 A2.5,2.5 0 0 0 485,952.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M593,950 L593,957.5 A2.5,2.5 0 0 0 595.5,960 L603,960 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="495" y="974.5332">wikidata-init.csv</text></g><!--MD5=[3a66d1ca25fc405626ab99d4ced6b447]
entity wdcoent--><g id="elem_wdcoent"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="232" x="633" y="1060"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="643" y="1077.5332">Load wikidata 'consists of' entities</text></g><!--MD5=[38ef3da207825949ac30c78e2f64fdaa]
entity wd--><g id="elem_wd"><path d="M428.3849,1056.8229 C432.17,1051.5936 436.1016,1050.0766 440.2315,1056.4715 C443.1326,1050.234 447.6398,1050.3021 452.1608,1054.6453 C456.6221,1049.6354 460.2923,1049.6843 464.1419,1055.3329 C467.0743,1048.5844 471.8156,1048.7128 475.8972,1054.2317 C479.7221,1048.2685 483.794,1047.8481 487.6874,1054.1659 C490.3774,1049.3378 494.0559,1048.3008 497.8653,1052.9659 C501.1907,1047.1501 507.2067,1046.0309 510.8818,1052.5983 C514.1937,1046.6566 518.4474,1047.584 521.9829,1052.3668 C525.3066,1047.7357 530.3041,1048.6964 532.5287,1053.5844 C536.5285,1046.987 542.2101,1047.1445 545.9063,1053.8887 C549.6523,1049.2866 552.7732,1048.9531 556.2199,1054.202 C560.1293,1048.5265 564.4962,1049.9215 567.3661,1055.2545 C571.7689,1049.8797 576.773,1050.2966 579.6929,1056.7942 C583.133,1050.886 588.4564,1051.8322 591.5545,1057.1554 C600.7316,1057.6298 604.654,1065.2881 600.1323,1073.1219 C604.7087,1081.2844 599.9023,1088.6715 590.7277,1088.3309 C588.3065,1095.1525 582.2475,1094.8505 578.4666,1089.7265 C575.9176,1095.9096 572.0441,1096.3581 567.2506,1092.1488 C563.9091,1096.7517 559.5933,1098.3473 555.9861,1092.4334 C552.8053,1097.9288 547.8885,1098.5171 543.753,1093.5496 C540.578,1099.7223 536.8908,1099.6485 532.7664,1094.4683 C529.8206,1099.2019 525.7001,1099.6049 522.2885,1094.9903 C519.7821,1102.1253 515.5149,1102.3742 510.3625,1097.6516 C505.0028,1102.0885 500.5508,1101.9719 497.9174,1094.7433 C494.7009,1100.8637 489.3132,1100.4532 486.242,1094.6016 C482.361,1098.8307 479.2548,1098.8128 476.447,1093.4998 C472.8981,1099.2117 466.1036,1099.3952 462.7634,1093.2586 C458.8479,1097.1658 455.0328,1096.8718 452.1022,1092.055 C447.5027,1096.7864 444.2054,1095.6344 441.4951,1090.1026 C436.9506,1094.9864 432.121,1094.0015 429.5934,1087.9146 C421.7962,1085.7258 419.0112,1080.0003 425.606,1073.7578 C417.6276,1067.5836 418.6021,1060.0826 428.3849,1056.8229 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="435" y="1077.5332">Wikidata Query Service</text></g><!--MD5=[f2ff0481ef640aa6da3b74fb9f3960dd]
entity propagate--><g id="elem_propagate"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="343.5" y="1156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="353.5" y="1173.5332">Propagate etymologies</text></g><!--MD5=[8830599b041b22b0c31782a89ec27b40]
entity wdnaent--><g id="elem_wdnaent"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="241" x="289.5" y="1240"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="299.5" y="1257.5332">Load wikidata 'named after' entities</text></g><!--MD5=[fa333889071b482bae05030de2d2b8d4]
entity ety--><g id="elem_ety"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="201.5" y="1324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="211.5" y="1341.5332">Convert etymologies</text></g><!--MD5=[fe8d640be263639a691035317384d32f]
entity temp--><g id="elem_temp"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="130.5" y="1408"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="140.5" y="1425.5332">Remove elements without etymology</text></g><!--MD5=[9225881c05e5dcc29801826dc3c4a44b]
entity global--><g id="elem_global"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="125" y="1492"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="135" y="1509.5332">Setup global map</text></g><!--MD5=[676ae9f80b1c78d7e6c305f7392e67f0]
entity date--><g id="elem_date"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="124" y="1577"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="134" y="1594.5332">Save update date</text></g><!--MD5=[4fc509e7cb4a1e84b57c31bc7e09752e]
entity backup--><g id="elem_backup"><path d="M992,1664.5 L992,1697.1094 A2.5,2.5 0 0 0 994.5,1699.6094 L1121.5,1699.6094 A2.5,2.5 0 0 0 1124,1697.1094 L1124,1672 L1114,1662 L994.5,1662 A2.5,2.5 0 0 0 992,1664.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1114,1662 L1114,1669.5 A2.5,2.5 0 0 0 1116.5,1672 L1124,1672 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1002" y="1686.5332">X.osm.pbf.backup</text></g><!--MD5=[9343e995ce37c732c089d90efe9b9f87]
entity pg_dump--><g id="elem_pg_dump"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="877.5" y="1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="887.5" y="1686.5332">pg_dump</text></g><g id="elem_busize"><path d="M986,1576 L986,1602.3516 A0,0 0 0 0 986,1602.3516 L1054,1602.3516 L1058,1661.84 L1062,1602.3516 L1130,1602.3516 A0,0 0 0 0 1130,1602.3516 L1130,1586 L1120,1576 L986,1576 A0,0 0 0 0 986,1576 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1120,1576 L1120,1586 L1130,1586 L1120,1576 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="992" y="1594.4951">Size: 70KB ~ 170MB</text></g><!--MD5=[b54f7b0ac5f0b0cbfa8a3d5feb5bb5f8]
entity destdb--><g id="elem_destdb"><path d="M1067,1770 C1067,1760 1124,1760 1124,1760 C1124,1760 1181,1760 1181,1770 L1181,1796.6094 C1181,1806.6094 1124,1806.6094 1124,1806.6094 C1124,1806.6094 1067,1806.6094 1067,1796.6094 L1067,1770 " fill="#F08080" style="stroke:#181818;stroke-width:0.5;"/><path d="M1067,1770 C1067,1780 1124,1780 1124,1780 C1124,1780 1181,1780 1181,1770 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1077" y="1798.5332">Destination DB</text></g><!--MD5=[ed473c282b5d5aa894f2a2f74c186551]
entity pg_restore--><g id="elem_pg_restore"><rect fill="#FFFFE0" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="942.5" y="1771.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="952.5" y="1789.0332">pg_restore</text></g><!--MD5=[70dc807d1e4f1c500afab09e0c174c3e]
link mirror to Download--><g id="link_mirror_Download"><path d="M321.27,115 C329.42,115 337.57,115 345.72,115 " fill="none" id="mirror-Download" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="350.8,115,341.8,111,345.8,115,341.8,119,350.8,115" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="316.12,115,325.12,119,321.12,115,325.12,111,316.12,115" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4487c11e3be46e4b95f9fc0694e39103]
link param to Download--><g id="link_param_Download"><path d="M392,31.15 C392,47.69 392,78.8 392,97.84 " fill="none" id="param-to-Download" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="392,102.86,396,93.86,392,97.86,388,93.86,392,102.86" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[72944a001e0bef3265779978cf749d1a]
link Download to X.osm.pbf--><g id="link_Download_X.osm.pbf"><path d="M433.13,115 C442.98,115 452.82,115 462.66,115 " fill="none" id="Download-to-X.osm.pbf" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="467.81,115,458.81,111,462.81,115,458.81,119,467.81,115" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3e8211d53f931b58435c1f6479fbf0b5]
link X.osm.pbf to filter1--><g id="link_X.osm.pbf_filter1"><path d="M488.08,134.06 C465.41,153.63 429.66,184.49 408.76,202.53 " fill="none" id="X.osm.pbf-to-filter1" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="404.79,205.96,414.2212,203.1223,408.5802,202.699,409.0036,197.058,404.79,205.96" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[687247da91be3670c829874d3d5916e6]
link Download to filter1--><g id="link_Download_filter1"><path d="M392,127.19 C392,145.02 392,179.93 392,200.58 " fill="none" id="Download-to-filter1" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="392,205.76,396,196.76,392,200.76,388,196.76,392,205.76" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[99b6f4e70d37cd77ba982887c96dbea0]
link filter1 to file1--><g id="link_filter1_file1"><path d="M457.79,218 C467.59,218 477.39,218 487.19,218 " fill="none" id="filter1-to-file1" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="492.32,218,483.32,214,487.32,218,483.32,222,492.32,218" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9bcecbb03d819aac8b19e11657c0c3d2]
link file1 to filter2--><g id="link_file1_filter2"><path d="M546.82,237.06 C530.59,255.18 505.85,282.79 490.6,299.82 " fill="none" id="file1-to-filter2" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="486.93,303.91,495.9239,299.8962,490.2748,300.1935,489.9775,294.5445,486.93,303.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d8a204b4da310454d7ea77fecd3497d9]
link filter1 to filter2--><g id="link_filter1_filter2"><path d="M401.75,230.01 C416.91,247.14 446.19,280.2 463.41,299.65 " fill="none" id="filter1-to-filter2" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="467.1,303.82,464.1282,294.4302,463.7853,300.0767,458.1388,299.7338,467.1,303.82" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[eb49e8a51b4972eaa6c202057dc074a2]
link filter2 to file2--><g id="link_filter2_file2"><path d="M542.62,316 C552.61,316 562.59,316 572.57,316 " fill="none" id="filter2-to-file2" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="577.79,316,568.79,312,572.79,316,568.79,320,577.79,316" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d0efed3a42e9681a598dc923598c8ed6]
link file2 to filter3--><g id="link_file2_filter3"><path d="M677,335.06 C677,352.72 677,379.4 677,396.5 " fill="none" id="file2-to-filter3" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="677,401.91,681,392.91,677,396.91,673,392.91,677,401.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[92191b7a32d44c6569f90d966af66d9b]
link filter2 to filter3--><g id="link_filter2_filter3"><path d="M499.94,328.01 C536.92,345.76 609.55,380.62 649.33,399.72 " fill="none" id="filter2-to-filter3" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="654.02,401.97,647.6527,394.4562,649.5169,399.7971,644.176,401.6612,654.02,401.97" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[f620dc87b4f2353444b31827a36a4b04]
link filter3 to file3--><g id="link_filter3_file3"><path d="M742.53,414 C752.37,414 762.22,414 772.06,414 " fill="none" id="filter3-to-file3" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="777.21,414,768.21,410,772.21,414,768.21,418,777.21,414" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a2710a2bd65cc3eb5af3902ee088b91e]
link file3 to export--><g id="link_file3_export"><path d="M836,433.06 C836,450.72 836,477.4 836,494.5 " fill="none" id="file3-to-export" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="836,499.91,840,490.91,836,494.91,832,490.91,836,499.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[907ad9d42ce9f63595fe40ec35c691e1]
link filter3 to export--><g id="link_filter3_export"><path d="M695.24,426.01 C724.32,443.57 781.14,477.87 812.97,497.1 " fill="none" id="filter3-to-export" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="817.48,499.82,811.8522,491.7374,813.2027,497.2307,807.7094,498.5811,817.48,499.82" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[1894e352749983836a8f1f9ff611885b]
link export to tsv--><g id="link_export_tsv"><path d="M891.58,512 C905.25,512 918.92,512 932.59,512 " fill="none" id="export-to-tsv" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="937.63,512,928.63,508,932.63,512,928.63,516,937.63,512" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4cd2b4d0732ff9e32c92013a1d9fa6e7]
reverse link db to setup--><g id="link_db_setup"><path d="M475.91,614.5 C573.7,614.5 671.49,614.5 769.28,614.5 " fill="none" id="db-backto-setup" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="470.66,614.5,479.66,618.5,475.66,614.5,479.66,610.5,470.66,614.5" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[23bd8f2eba61cadcbe674ca544b1abf8]
link export to setup--><g id="link_export_setup"><path d="M836,524.14 C836,541.87 836,576.61 836,597.16 " fill="none" id="export-to-setup" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="836,602.31,840,593.31,836,597.31,832,593.31,836,602.31" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[78457f980dc7411244330345470b5fcd]
link tsv to copy--><g id="link_tsv_copy"><path d="M989,531.09 C989,568.87 989,655.68 989,692.26 " fill="none" id="tsv-to-copy" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="989,697.69,993,688.69,989,692.69,985,688.69,989,697.69" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[59f82a12843fc24437a422f5501af1a2]
link setup to copy--><g id="link_setup_copy"><path d="M854.15,626.59 C882.22,643.74 936.08,676.66 966.55,695.28 " fill="none" id="setup-to-copy" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="970.87,697.92,965.2817,689.81,966.6054,695.3099,961.1055,696.6335,970.87,697.92" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[93f8c4a7880025fb42cf909e95e7be71]
reverse link db to copy--><g id="link_db_copy"><path d="M475.82,622.86 C573.16,639.2 807.88,678.6 923.04,697.93 " fill="none" id="db-backto-copy" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="470.72,622,478.9323,627.4367,475.6508,622.8289,480.2586,619.5475,470.72,622" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[a81f8c044efeb9c4173b0c1fa82d70a2]
link db to toobig--><g id="link_db_toobig"><path d="M475.52,630.01 C516.32,644.49 578.32,668.76 628,698 C668.74,721.98 710.98,758.21 733.18,778.29 " fill="none" id="db-toobig" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="737.08,781.84,733.1026,772.83,733.3771,778.4802,727.7269,778.7547,737.08,781.84" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="470.65,628.3,477.796,635.0775,475.3626,629.9708,480.4693,627.5374,470.65,628.3" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[395efc05b3455cfab1fbdea7d7404cf9]
link copy to toobig--><g id="link_copy_toobig"><path d="M956.63,722.06 C912.31,737.2 832.93,764.32 786.21,780.29 " fill="none" id="copy-to-toobig" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="781.24,781.99,791.0489,782.8768,785.9733,780.379,788.4712,775.3034,781.24,781.99" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[fca9e83b066b002df886ab290933c53a]
link db to wdcod--><g id="link_db_wdcod"><path d="M472.7,640.93 C495.82,656.21 524.7,676.77 548,698 C594.82,740.67 593.41,764.2 641,806 C667.24,829.05 701.49,850.31 724.31,863.44 " fill="none" id="db-wdcod" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="728.72,865.96,722.8763,858.0321,724.3744,863.487,718.9195,864.9851,728.72,865.96" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="468.46,638.14,473.7756,646.4312,472.6355,640.8904,478.1763,639.7504,468.46,638.14" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[56e7d8fe6395ed8fe3536102096da747]
link toobig to wdcod--><g id="link_toobig_wdcod"><path d="M749,806.06 C749,820.12 749,844.51 749,860.7 " fill="none" id="toobig-to-wdcod" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="749,865.85,753,856.85,749,860.85,745,856.85,749,865.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[9d60280e30e1cd8d46d2b7ca28af2e04]
link csv to wdent--><g id="link_csv_wdent"><path d="M603.34,969 C613.18,969 623.02,969 632.86,969 " fill="none" id="csv-to-wdent" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="638,969,629,965,633,969,629,973,638,969" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[31eb290e1eb04070974a770d12514674]
link db to wdent--><g id="link_db_wdent"><path d="M445.55,642.86 C472.82,695.82 538.82,813.83 621,890 C651.79,918.54 694.81,941.26 723.72,954.65 " fill="none" id="db-wdent" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="728.59,956.88,722.0798,949.4896,724.046,954.7938,718.7419,956.76,728.59,956.88" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="443.18,638.24,443.7154,648.0743,445.4561,642.6919,450.8384,644.4326,443.18,638.24" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[e6fe1f944a49ffb5e29c97da477d482a]
link wdcod to wdent--><g id="link_wdcod_wdent"><path d="M749.76,890.27 C750.81,905.79 752.7,933.82 753.9,951.64 " fill="none" id="wdcod-to-wdent" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="754.25,956.82,757.6249,947.5674,753.9079,951.8317,749.6437,948.1147,754.25,956.82" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[5f85c9cdd63cc121f2a037b0ae1110e9]
link wd to wdcoent--><g id="link_wd_wdcoent"><path d="M603.23,1072 C611.4,1072 619.58,1072 627.76,1072 " fill="none" id="wd-wdcoent" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="632.85,1072,623.85,1068,627.85,1072,623.85,1076,632.85,1072" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="598.06,1072,607.06,1076,603.06,1072,607.06,1068,598.06,1072" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[63912845e1f02a94da12ef3ea2a367f3]
link db to wdcoent--><g id="link_db_wdcoent"><path d="M432,643.58 C432,678.57 432,740.2 432,793 C432,793 432,793 432,879 C432,929.88 430.58,952.46 467,988 C497.68,1017.93 609.5,1044.32 682.78,1058.93 " fill="none" id="db-wdcoent" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="687.99,1059.96,679.9397,1054.2862,683.0855,1058.9877,678.384,1062.1334,687.99,1059.96" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="432,638.2,428,647.2,432,643.2,436,647.2,432,638.2" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[6ed78a5e7fa2ee821c836efe16427765]
link wdent to wdcoent--><g id="link_wdent_wdcoent"><path d="M754.33,981.19 C753.28,999.02 751.2,1033.93 749.98,1054.58 " fill="none" id="wdent-to-wdcoent" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="749.67,1059.76,754.2033,1051.0165,749.9703,1054.769,746.2178,1050.536,749.67,1059.76" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[6240ccf2237be5bfbd68ffab8beea67f]
link db to propagate--><g id="link_db_propagate"><path d="M413.65,642.54 C392.62,676.23 361,736.3 361,793 C361,793 361,793 361,970 C361,1040.71 399.24,1118.84 417.06,1151.41 " fill="none" id="db-propagate" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="419.53,1155.88,418.6804,1146.0679,417.1127,1151.5032,411.6774,1149.9355,419.53,1155.88" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="416.42,638.16,408.2314,643.6324,413.7495,642.3871,414.9948,647.9052,416.42,638.16" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[1701390fc3a929f97c379b6479dac8e5]
link wdcoent to propagate--><g id="link_wdcoent_propagate"><path d="M711,1084.06 C650.37,1101.7 532.16,1136.1 468.7,1154.57 " fill="none" id="wdcoent-to-propagate" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="463.86,1155.98,473.62,1157.3,468.66,1154.58,471.38,1149.62,463.86,1155.98" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[b09098c13612a164f731eca973ecd95e]
link wd to wdnaent--><g id="link_wd_wdnaent"><path d="M522.71,1100.89 C531.75,1123.56 539.65,1155.64 526,1180 C509.97,1208.6 477.2,1227.06 450.57,1237.97 " fill="none" id="wd-wdnaent" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="445.67,1239.92,455.5119,1240.2914,450.3124,1238.063,452.5407,1232.8636,445.67,1239.92" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="520.77,1096.21,520.5133,1106.0555,522.6809,1100.8304,527.906,1102.998,520.77,1096.21" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[56257164e19104d9393d3ac379728fa1]
link db to wdnaent--><g id="link_db_wdnaent"><path d="M392.27,641.17 C350.26,671.79 290,727.19 290,793 C290,793 290,793 290,1073 C290,1123.18 297.8,1138.5 326,1180 C342.13,1203.73 368.26,1224.07 387.1,1236.82 " fill="none" id="db-wdnaent" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="391.72,1239.89,386.4372,1231.5778,387.5554,1237.1231,382.0101,1238.2413,391.72,1239.89" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="396.53,638.11,386.8914,640.1342,392.4759,641.0364,391.5737,646.6209,396.53,638.11" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[7a6900399c376b42c18e143225ef75b3]
link propagate to wdnaent--><g id="link_propagate_wdnaent"><path d="M423.84,1180.06 C421.1,1194.12 416.34,1218.51 413.18,1234.7 " fill="none" id="propagate-to-wdnaent" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="412.17,1239.85,417.8168,1231.7807,413.1259,1234.9422,409.9644,1230.2513,412.17,1239.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[71e76cba4782ddbe7e137a646fbaf3ca]
link db to ety--><g id="link_db_ety"><path d="M388.65,629.55 C326.38,652.77 219,705.51 219,793 C219,793 219,793 219,1169 C219,1226.9 250.4,1290.3 266.59,1319.14 " fill="none" id="db-ety" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="269.24,1323.79,268.2651,1313.9895,266.767,1319.4444,261.3121,1317.9463,269.24,1323.79" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="393.43,627.79,383.6018,627.1521,388.739,629.5205,386.3706,634.6577,393.43,627.79" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[c7af40d1b84504923f8db502c3436d1b]
link wdnaent to ety--><g id="link_wdnaent_ety"><path d="M391.93,1264.06 C367.75,1278.85 324.89,1305.08 298.6,1321.17 " fill="none" id="wdnaent-to-ety" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="294.21,1323.85,303.9745,1322.5635,298.4746,1321.2399,299.7983,1315.74,294.21,1323.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[771c9449059b7809e45e904b7841b09e]
link db to temp--><g id="link_db_temp"><path d="M388.28,622.18 C308.62,637.1 148,681.06 148,793 C148,793 148,793 148,1253 C148,1298.15 159.49,1310.08 184,1348 C198.48,1370.4 221.02,1391.39 236.81,1404.65 " fill="none" id="db-temp" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="240.67,1407.86,236.3135,1399.027,236.8277,1404.6605,231.1943,1405.1747,240.67,1407.86" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="393.4,621.24,383.8267,618.9267,388.4818,622.1407,385.2678,626.7959,393.4,621.24" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[f403d5ef31835e7ca475643ce6aae5b7]
link ety to temp--><g id="link_ety_temp"><path d="M273.17,1348.06 C269.57,1362.12 263.32,1386.51 259.17,1402.7 " fill="none" id="ety-to-temp" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="257.85,1407.85,263.9403,1400.1099,259.0795,1403.0035,256.1859,1398.1427,257.85,1407.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[45a4007b7da6f1ab2d86886deb2adae9]
link db to global--><g id="link_db_global"><path d="M388.08,617.51 C293.08,624.45 77,655.38 77,793 C77,793 77,793 77,1337 C77,1382.15 87.73,1394.58 113,1432 C128.48,1454.92 152.75,1475.67 169.9,1488.74 " fill="none" id="db-global" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="174.09,1491.89,169.3048,1483.2818,170.0952,1488.8831,164.4938,1489.6735,174.09,1491.89" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="393.33,617.14,384.0672,613.7933,388.3428,617.4973,384.6388,621.7728,393.33,617.14" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[3485a56b952677b41c0f823e7b566c2a]
link temp to global--><g id="link_temp_global"><path d="M246.23,1432.06 C234.89,1446.36 215.08,1471.36 202.25,1487.54 " fill="none" id="temp-to-global" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="198.83,1491.85,207.5534,1487.278,201.9342,1487.9304,201.2819,1482.3112,198.83,1491.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[3cec837779bea0c342a8f2e7f16a9e23]
link db to date--><g id="link_db_date"><path d="M388.18,618.16 C320.69,623.94 189.15,642.05 94,698 C44.39,727.17 6,735.45 6,793 C6,793 6,793 6,1421 C6,1500.77 102.01,1552.44 155.32,1574.98 " fill="none" id="db-date" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="160.03,1576.94,153.2686,1569.7787,155.4167,1575.0119,150.1836,1577.16,160.03,1576.94" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="393.32,617.73,384.0197,614.489,388.3372,618.144,384.6821,622.4615,393.32,617.73" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[574fb2957d5d6b7a4e7625e4f5d07926]
link global to date--><g id="link_global_date"><path d="M190,1516.19 C190,1530.51 190,1555.39 190,1571.78 " fill="none" id="global-to-date" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="190,1576.98,194,1567.98,190,1571.98,186,1567.98,190,1576.98" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[ae226f3d4946d26aac0d0653a8452321]
link db to pg_dump--><g id="link_db_pg_dump"><path d="M470.59,618.45 C555.03,627.11 756.6,660.14 857,782 C875.5,804.46 925,941.41 925,1071 C925,1071 925,1071 925,1505 C925,1563.41 920.5,1632.67 918.25,1663.63 " fill="none" id="db-to-pg_dump" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="917.86,1668.95,922.4928,1660.2588,918.2173,1663.9628,914.5133,1659.6872,917.86,1668.95" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[6d53c34b5e6ae8fa1233be9f4cb5df8d]
link pg_dump to backup--><g id="link_pg_dump_backup"><path d="M956.66,1681 C966.66,1681 976.66,1681 986.66,1681 " fill="none" id="pg_dump-to-backup" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="991.89,1681,982.89,1677,986.89,1681,982.89,1685,991.89,1681" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[af9b9c386798e221826183584dbab237]
link date to pg_dump--><g id="link_date_pg_dump"><path d="M256.12,1598.19 C402.16,1616.26 749.03,1659.21 872.45,1674.49 " fill="none" id="date-to-pg_dump" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="877.46,1675.1,869.0185,1670.0265,872.4977,1674.4868,868.0374,1677.9661,877.46,1675.1" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[522335ba3af1bc98ec1e587c3bfbc2b1]
link backup to pg_restore--><g id="link_backup_pg_restore"><path d="M1044.98,1700.43 C1031.47,1719.55 1010.59,1749.11 997.92,1767.05 " fill="none" id="backup-to-pg_restore" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="994.88,1771.35,1003.3477,1766.3203,997.7713,1767.2707,996.8209,1761.6943,994.88,1771.35" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[69b00a1f6e0a00374708d4dc6b6c32a0]
link pg_restore to destdb--><g id="link_pg_restore_destdb"><path d="M1031.69,1783.5 C1041.61,1783.5 1051.54,1783.5 1061.47,1783.5 " fill="none" id="pg_restore-to-destdb" style="stroke:#FF7F50;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#FF7F50" points="1066.66,1783.5,1057.66,1779.5,1061.66,1783.5,1057.66,1787.5,1066.66,1783.5" style="stroke:#FF7F50;stroke-width:1.0;"/></g><!--MD5=[b664100bf04e28bf49c01f7ad0a12ff4]
link pg_dump to pg_restore--><g id="link_pg_dump_pg_restore"><path d="M924.76,1693.14 C937.32,1711.17 962.13,1746.8 976.34,1767.2 " fill="none" id="pg_dump-to-pg_restore" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="979.21,1771.31,977.3461,1761.6391,976.3513,1767.2078,970.7826,1766.213,979.21,1771.31" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[8d1cab54b68e648e4aa67d5a78d7bb7b]
@startuml db-init

card "Get config and parameters" as param #LightGreen
cloud "OSM extract mirror" as mirror
file X.osm.pbf
card Download #LightYellow
mirror <.> Download
param -[bold]-> Download
Download .> X.osm.pbf

note as xsize
  Size: 50MB ~ 70GB
end note
X.osm.pbf .. xsize

card "osmium tags-filter" as filter1 #LightGreen
file with_name.osm.pbf as file1
X.osm.pbf .> filter1
Download -[bold]-> filter1
filter1 .> file1

card "osmium tags-filter" as filter2 #LightGreen
file possible_etymology.osm.pbf as file2
file1 .> filter2
filter1 -[bold]-> filter2
filter2 .> file2

card "osmium tags-filter" as filter3 #LightGreen
file filtered.osm.pbf as file3
file2 .> filter3
filter2 -[bold]-> filter3
filter3 .> file3

note as 3size
  Size: 4MB ~ 6GB
end note
3size .. file3

card "osmium export" as export #LightGreen
file X.osm.pbf.pg as tsv
file3 .> export
filter3 -[bold]-> export
export .> tsv

note as tsvsize
  Size: 40MB ~ 22GB
end note
tsvsize .. tsv

database "Local DB" as db #LightBlue
card "Setup DB schema" as setup #LightGreen
setup .left.> db #Blue
export -[bold]-> setup

card "pgSQL COPY FROM CSV" as copy #LightGreen
tsv .> copy
setup -[bold]-> copy
copy .left.> db #Blue

card "Remove elements too big" as toobig #LightGreen
toobig <.left.> db #Blue
copy -[bold]-> toobig

card "Convert element wikidata codes" as wdcod #LightGreen
wdcod <.left.> db #Blue
toobig -[bold]-> wdcod

card "Load and convert wikidata entities" as wdent #LightGreen
file "wikidata-init.csv" as csv
csv .> wdent
wdent <.left.> db #Blue
wdcod -[bold]-> wdent

card "Load wikidata 'consists of' entities" as wdcoent #LightGreen
cloud "Wikidata Query Service" as wd
wd <.> wdcoent
wdcoent <.left.> db #Blue
wdent -[bold]-> wdcoent

card "Propagate etymologies" as propagate #LightGreen
propagate <.left.> db #Blue
wdcoent -[bold]-> propagate

card "Load wikidata 'named after' entities" as wdnaent #LightGreen
wd <.> wdnaent
wdnaent <.left.> db #Blue
propagate -[bold]-> wdnaent

card "Convert etymologies" as ety #LightGreen
ety <.left.> db #Blue
wdnaent -[bold]-> ety

card "Remove elements without etymology" as temp #LightGreen
temp <.left.> db #Blue
ety -[bold]-> temp

card "Setup global map" as global #LightGreen
global <.left.> db #Blue
temp -[bold]-> global

card "Save update date" as date #LightGreen
date <.left.> db #Blue
global -[bold]-> date

file X.osm.pbf.backup as backup
card pg_dump #LightGreen
db .> pg_dump #Blue
pg_dump .> backup
date -[bold]-> pg_dump

note as busize
  Size: 70KB ~ 170MB
end note
busize .. backup

database "Destination DB" as destdb #LightCoral
card pg_restore #LightYellow
backup .> pg_restore
pg_restore .> destdb #Coral
pg_dump -[bold]-> pg_restore

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: it
Country: IT
--></g></svg>